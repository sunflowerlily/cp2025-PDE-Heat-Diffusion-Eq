# 数据积分：从速度数据计算距离并绘图

## 目标

本作业的目标是读取包含时间和速度数据的文件，使用梯形积分法则计算粒子运动的距离（位移），并绘制速度和距离随时间变化的曲线。

## 背景知识

*   **数据文件：** 文件 `Velocities.txt` 包含两列数据。第一列是时间 $t$（单位：秒），第二列是粒子在该时刻的速度 $v$（单位：米/秒）。
*   **梯形积分（离散数据）：** 对于一系列离散的数据点 $(t_0, v_0), (t_1, v_1), \dots, (t_N, v_N)$，速度 $v(t)$ 从 $t_0$ 到 $t_N$ 的积分（即位移或距离）可以通过梯形法则近似计算：
    $$ \text{距离} \approx \sum_{i=0}^{N-1} \frac{v_i + v_{i+1}}{2} (t_{i+1} - t_i) $$
    这个公式适用于时间间隔 $t_{i+1} - t_i$ 不一定相等的情况。NumPy 库的 `numpy.trapz(y, x)` 函数非常适合计算离散数据点的梯形积分，其中 `y` 是函数值（这里是速度 `v`），`x` 是对应的自变量值（这里是时间 `t`）。
*   **累积距离：** 为了绘制距离随时间变化的曲线，我们需要计算每个时间点 $t_i$ 时对应的累积距离（从 $t_0$ 到 $t_i$ 的积分）。可以使用 `scipy.integrate.cumulative_trapezoid` 函数。

## 任务

1.  **读取数据与计算总距离：**
    *   在 `calculate_distance.py` 脚本中，使用 `numpy.loadtxt` 读取 `velocities.txt` 文件中的数据。
    *   将数据分别存储到时间 `t` 和速度 `v` 的 NumPy 数组中。
    *   使用梯形积分（推荐 `numpy.trapz(v, t)`）计算粒子从初始时间到最终时间的 **总运行距离**（即总位移）。
    *   打印计算出的总距离。

2.  **计算并绘制累积距离与速度：**
    *   使用 `scipy.integrate.cumulative_trapezoid(v, t, initial=0)` 计算每个时间点对应的 **累积距离**。`initial=0` 参数表示初始距离为0。
    *   使用 `matplotlib.pyplot` 创建一个图表：
        *   横坐标为时间 `t`。
        *   **在同一张图上** 绘制两条曲线：
            *   速度 `v` 随时间 `t` 的变化曲线。
            *   累积距离 `distance` 随时间 `t` 的变化曲线。
        *   为图表添加合适的标题（例如 "速度与距离随时间变化"）。
        *   为 x 轴和 y 轴添加标签（例如 "时间 (秒)", "速度 (米/秒) / 距离 (米)"）。
        *   添加图例（Legend）以区分速度和距离曲线。
        *   显示图表。



## 提交要求

提交你完成的 `calculate_distance.py` 文件。
提交你完成的`实验报告.md`文件。
